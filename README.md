# cl-cli

todoList
1. 确认文件名是否重复，重复就提示是否覆盖（已完成）
2. 选择语言，（不选择版本，默认最新，因为脚手架生成后可以自己安装想要的版本）(已完成)
3. 选择项目类型（组件、后台、原生工具）（已完成）
 - 组件、后台（vue ｜ react
 - - 是否使用UI框架
 - 原生工具 （node | browser）
4. 选择配套工具(eslint\axios\)
5. 拉取基础模版
6. 内存中组合加工
7. 生成项目

实现要点：
- 使用一个class来保存配置上下文
- 每个步骤穿插进度条
- 在加工环节尽可能设计成插件形式，方便以后拓展


-- 插件系统todo：
1. 重写上下文管理器，需要使用传入类型来设置自身配置接口
2. 划分生命周期
- 意味着需要编写一个event类实现钩子订阅
- 确定插件的形式(是一个function，参数有hook钩子注册器、当前上下文配置内容、附带工具类)
3. 使用钩子形式广播不同不同生命周期事件供插件使用
4. init逻辑里调用钩子以遍历形式调用（可能有多个插件注册了同一个钩子）
5. 插件间的参数应该有流向关系，插件本身具有顺序关系


2020.12.04:
todo:
1. 从init钩子开始改造，把ctx的内容结构和行为定义好
2. Plugin的两种方式（函数or对象）做好解析，第二个参数的utils需要做一层整合
3. 对象类型的Plugin要做解析，把各个属性注册到钩子中，提供的参数要把该生命周期自带的和utils整合一起


2020.12.07:
todo:
1. 钩子注册内容暂时还没做到上下文链式取值(已完成)
2. 考虑用洋葱模式执行plugin(不需要，没有折返需求)

2020.12.09:
1. 需要设计一种节点构成文件依赖树，并且这棵树能100%用于生成文件，所以这种节点应该能清楚地描述本身内容以及路径关系
2. 开发一个complier类用于将文件依赖树转化为文件
3. 开发一个parser，将配置转化为文件依赖树，相当于对每个配置进行节点转换

2020.12.15:
1. 在parse的生命周期中，不用所有插件都注册这个事件，完全可以在最后一个插件中才注册，统一决定输出的配置文件
2. 想了一下，其实parse的ruleSetter最好直接返回fileNode，这样就相当于定义好了文件目录结构
3. 在utils中需要加入git-download、fileNodeCreator等工具函数